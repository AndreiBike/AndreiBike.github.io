(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/preloader.7db702e9.svg"},35:function(e,t,a){e.exports=a(54)},40:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),i=a.n(c),o=a(21),u=(a(40),a(12)),l=function(e){return{type:"UPLOAD_TODAY_PICTURE",payload:e}};a(45);function s(e){var t=e.getDate();t<10&&(t="0"+t);var a=e.getMonth()+1;return a<10&&(a="0"+a),e.getFullYear()+"-"+a+"-"+t}var d=Object(u.b)((function(e){return{date:e.todayPictureState.date}}),(function(e){return{uploadPicture:function(t){e(l(t))}}}))((function(e){var t=r.a.createRef();return r.a.createElement("div",{className:"date"},r.a.createElement("p",null,"Choose the date"),r.a.createElement("div",null,r.a.createElement("input",{defaultValue:e.date,onChange:function(){e.uploadPicture({date:t.current.value})},ref:t,type:"date",min:"1995-06-16",max:s(new Date)})))})),p=(a(46),a(29)),m=a.n(p),f=function(e){return r.a.createElement("div",{className:"preloader-style"},r.a.createElement("img",{src:m.a,alt:"preloading..."}))},y=Object(u.b)((function(e){return{isLoading:e.todayPictureState.isLoading,mediaType:e.todayPictureState.mediaType,todayPicture:e.todayPictureState.todayPicture,date:e.todayPictureState.date,title:e.todayPictureState.title}}),(function(e){return{uploadPicture:function(t){e(l(t))}}}))((function(e){var t=e.isLoading,a=e.mediaType,c=e.todayPicture,i=e.date,o=e.uploadPicture,u=e.title;return Object(n.useEffect)((function(){o({date:i})}),[]),t?r.a.createElement("div",{className:"today-preloader"},r.a.createElement(f,null)):"video"===a?r.a.createElement("div",{className:"today-video"},r.a.createElement("h1",null," ",u," "),r.a.createElement("iframe",{title:u,width:"560",height:"315",frameBorder:"0",allowFullScreen:!0,src:"https://www.youtube.com/embed/Cd5a5KdPxQc?rel=0"},"Your browser doesn't allow iframes")):r.a.createElement("div",{className:"today-image"},r.a.createElement("img",{src:c,alt:"today nasa"}))})),g=a(9),v=a(34),P=a(15),E={isLoading:!0,mediaType:"image",title:"",todayPicture:"",date:s(new Date)};var h={isLoading:!1,lastDate:s(new Date),pictures:[]};var O=a(30),b=a(11),w=a.n(b),D=a(13),S=w.a.mark(j),U=w.a.mark(C),L=w.a.mark(A),x=w.a.mark(k);function j(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)("UPLOAD_TODAY_PICTURE",C);case 2:case"end":return e.stop()}}),S)}function T(e){return _.apply(this,arguments)}function _(){return(_=Object(O.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.nasa.gov/planetary/apod?date=".concat(t,"&api_key=LmfU3hE27rUYuuuaFvic4ocwNLlgJOwpgTvc40Pn"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(D.a)((function(){return T(e.payload.date)}));case 3:return t=a.sent,a.next=6,Object(D.b)({type:"UPLOAD_TODAY_PICTURE_SUCCESS",payload:t});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("Error in saga");case 11:case"end":return a.stop()}}),U,null,[[0,8]])}function A(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)("UPLOAD_PICTURE",k);case 2:case"end":return e.stop()}}),L)}function k(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(D.a)((function(){return T(e.payload.date)}));case 3:return t=a.sent,a.next=6,Object(D.b)({type:"UPLOAD_PICTURE_SUCCESS",payload:t});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),x,null,[[0,8]])}var I=a(25),R=a(31),N=a.n(R),Y=Object(v.a)(),B={key:"pictures",storage:N.a,whitelist:["todayPictureState"]},F=Object(g.c)({todayPictureState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_TODAY_PICTURE":return Object(P.a)(Object(P.a)({},e),{},{isLoading:!0});case"UPLOAD_TODAY_PICTURE_SUCCESS":return{mediaType:t.payload.media_type,todayPicture:t.payload.hdurl,date:t.payload.date,title:t.payload.title,isLoading:!1};default:return e}},listPictureState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_PICTURE":return console.log(e),Object(P.a)(Object(P.a)({},e),{},{isLoading:!0});case"UPLOAD_PICTURE_SUCCESS":var a={mediaType:t.payload.media_type,todayPicture:t.payload.hdurl,date:t.payload.date,title:t.payload.title},n=new Date(e.lastDate);return n.setDate(n.getDate()-1),console.log(e.pictures),{isLoading:!1,lastDate:s(n),pictures:e.pictures.concat([a])};default:return e}}}),J=Object(I.a)(B,F),M=Object(g.e)(J,Object(g.a)(Y)),W=Object(I.b)(M);Y.run(j),Y.run(A);var K=function(){return{reduxStore:M,reduxPersistor:W}},Q=(a(50),function(e){return console.log(e),r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:e.image.todayPicture,alt:"no pic"}),r.a.createElement("div",null,e.image.date))}),V=(a(51),a(32)),$=Object(u.b)((function(e){return{isLoading:e.listPictureState.isLoading,pictures:e.listPictureState.pictures,lastDate:e.listPictureState.lastDate}}),(function(e){return{uploadPicture:function(t){e({type:"UPLOAD_PICTURE",payload:t})}}}))((function(e){var t=e.pictures.map((function(e){return r.a.createElement(Q,{image:e})}));return r.a.createElement(V.a,{dataLength:e.pictures.length,next:function(){return e.uploadPicture({date:e.lastDate})},hasMore:"1995-06-16"!==e.lastDate,loading:"Loading"},r.a.createElement("div",{className:"images-list"},t))})),q=a(33),z=(a(52),a(5));var G=function(){return r.a.createElement(q.a,{loading:null,persistor:K().reduxPersistor},r.a.createElement(u.a,{store:K().reduxStore},r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(z.a,{path:"/",component:y}),r.a.createElement($,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(o.a,null,r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.01385404.chunk.js.map